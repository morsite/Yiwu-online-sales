<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Forget</title>
    <link rel="stylesheet" href="../css/forget.css">
    <script src="../js/jquery-3.6.0.js"></script>
</head>
<body>
<div class="login-card">
    <div class="card-header">
        <div class="log">找回密码</div>
    </div>
        <div class="form-group">
            <label for="uid">请输入注册id</label>
            <input required="" name="uid" id="uid" type="text">
        </div>
        <div class="form-group">
            <label for="uaccount">请输入注册账号</label>
            <input required="" name="" id="uaccount" type="text">
        </div>
        <div class="form-group">
            <label for="upassword">请输入新密码</label>
            <input required="" name="password" id="upassword" type="password">
        </div>
        <div class="form-group">
            <input value="确认设置" type="submit" id = "qe">
        </div>
</div>

<script>
    $("#qe").click(function (){
        var uid = $("#uid").val();
        var uacc = $("#uaccount").val();
        var upw = $("#upassword").val();
        $.ajax({
            url:"../user/newp",
            data:JSON.stringify({
                "uid":uid,
                "uaccount":uacc,
                "upassword":upw
            }),
            type:"POST",
            contentType:"application/json;charset=UTF-8",
            dataType:"json",
            success:function (res){
                if(res.status==200){
                    window.location.href = "login.html"
                }else{
                    alert("账号和id不符")
                }
            },
            error:function (){
                alert("err")
            }
        })
    })
</script>
</body>
</html>